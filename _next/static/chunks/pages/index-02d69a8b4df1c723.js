(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7989:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8017)}])},4775:function(e,l,n){"use strict";n.d(l,{Z:function(){return j}});var i=n(1527),r=n(9544),t=n.n(r),s=n(9468),a=n(2473),o=n(8915),u=n(9178),d=n(391),c=n(2169),h=n(3025),p=n(728),m=n(6304),x=n(3194);let f=()=>{let e=(0,x.useRouter)(),{data:l}=(0,m.useSession)(),n=()=>e.push("/auth/sign-in");return(0,i.jsx)(s.k,{position:"fixed",top:"4",right:"4",rounded:"lg",children:l?(0,i.jsxs)(o.v,{children:[(0,i.jsx)(u.j,{role:"group",children:(0,i.jsxs)(s.k,{align:"center",gap:"4",children:[(0,i.jsx)(d.x,{as:"b",children:l.user.name}),(0,i.jsx)(c.q,{_groupFocus:{boxShadow:"outline"},name:l.user.name,src:l.user.image,loading:"lazy"})]})}),(0,i.jsx)(h.q,{children:(0,i.jsx)(p.s,{onClick:()=>(0,m.signOut)(),children:"Sign out"})})]}):(0,i.jsx)(a.z,{colorScheme:"yellow",onClick:n,children:"Sign in"})})},v=e=>{let{children:l,withSessionBar:n=!1}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t(),{children:[(0,i.jsx)("title",{children:"Holyday"}),(0,i.jsx)("meta",{name:"description",content:""})]}),n&&(0,i.jsx)(f,{}),l]})};var j=v},8017:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return F}});var i=n(1527),r=n(4775),t=n(9468),s=n(391),a=n(5981),o=n(3106),u=n(5070),d=n(4743),c=n(1027),h=n(1295),p=n(4843),m=n(959),[x,f]=(0,a.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[v,j]=(0,a.k)({strict:!1,name:"FormControlContext"});(0,u.G)(function(e,l){let n=(0,d.jC)("Form",e),r=(0,c.Lr)(e),{getRootProps:t,htmlProps:s,...a}=function(e){let{id:l,isRequired:n,isInvalid:i,isDisabled:r,isReadOnly:t,...s}=e,a=(0,m.useId)(),u=l||`field-${a}`,d=`${u}-label`,c=`${u}-feedback`,h=`${u}-helptext`,[x,f]=(0,m.useState)(!1),[v,j]=(0,m.useState)(!1),[g,C]=(0,m.useState)(!1),b=(0,m.useCallback)((e={},l=null)=>({id:h,...e,ref:(0,o.lq)(l,e=>{e&&j(!0)})}),[h]),y=(0,m.useCallback)((e={},l=null)=>({...e,ref:l,"data-focus":(0,p.PB)(g),"data-disabled":(0,p.PB)(r),"data-invalid":(0,p.PB)(i),"data-readonly":(0,p.PB)(t),id:void 0!==e.id?e.id:d,htmlFor:void 0!==e.htmlFor?e.htmlFor:u}),[u,r,g,i,t,d]),k=(0,m.useCallback)((e={},l=null)=>({id:c,...e,ref:(0,o.lq)(l,e=>{e&&f(!0)}),"aria-live":"polite"}),[c]),_=(0,m.useCallback)((e={},l=null)=>({...e,...s,ref:l,role:"group"}),[s]),S=(0,m.useCallback)((e={},l=null)=>({...e,ref:l,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!i,isReadOnly:!!t,isDisabled:!!r,isFocused:!!g,onFocus:()=>C(!0),onBlur:()=>C(!1),hasFeedbackText:x,setHasFeedbackText:f,hasHelpText:v,setHasHelpText:j,id:u,labelId:d,feedbackId:c,helpTextId:h,htmlProps:s,getHelpTextProps:b,getErrorMessageProps:k,getRootProps:_,getLabelProps:y,getRequiredIndicatorProps:S}}(r),u=(0,p.cx)("chakra-form-control",e.className);return(0,i.jsx)(v,{value:a,children:(0,i.jsx)(x,{value:n,children:(0,i.jsx)(h.m.div,{...t({},l),className:u,__css:n.container})})})}).displayName="FormControl",(0,u.G)(function(e,l){let n=j(),r=f(),t=(0,p.cx)("chakra-form__helper-text",e.className);return(0,i.jsx)(h.m.div,{...null==n?void 0:n.getHelpTextProps(e,l),__css:r.helperText,className:t})}).displayName="FormHelperText";var g=(0,u.G)(function(e,l){let{htmlSize:n,...r}=e,t=(0,d.jC)("Input",r),s=(0,c.Lr)(r),a=function(e){let{isDisabled:l,isInvalid:n,isReadOnly:i,isRequired:r,...t}=function(e){var l,n,i;let r=j(),{id:t,disabled:s,readOnly:a,required:o,isRequired:u,isInvalid:d,isReadOnly:c,isDisabled:h,onFocus:m,onBlur:x,...f}=e,v=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==r?void 0:r.hasFeedbackText)&&(null==r?void 0:r.isInvalid)&&v.push(r.feedbackId),(null==r?void 0:r.hasHelpText)&&v.push(r.helpTextId),{...f,"aria-describedby":v.join(" ")||void 0,id:null!=t?t:null==r?void 0:r.id,isDisabled:null!=(l=null!=s?s:h)?l:null==r?void 0:r.isDisabled,isReadOnly:null!=(n=null!=a?a:c)?n:null==r?void 0:r.isReadOnly,isRequired:null!=(i=null!=o?o:u)?i:null==r?void 0:r.isRequired,isInvalid:null!=d?d:null==r?void 0:r.isInvalid,onFocus:(0,p.v0)(null==r?void 0:r.onFocus,m),onBlur:(0,p.v0)(null==r?void 0:r.onBlur,x)}}(e);return{...t,disabled:l,readOnly:i,required:r,"aria-invalid":(0,p.Qm)(n),"aria-required":(0,p.Qm)(r),"aria-readonly":(0,p.Qm)(i)}}(s),o=(0,p.cx)("chakra-input",e.className);return(0,i.jsx)(h.m.input,{size:n,...a,__css:t.field,ref:l,className:o})});g.displayName="Input",g.id="Input";var C=n(2473),b=n(6304),y=n(3194),k=n(5587),_=n(3485);let S=_.env.BACKEND_URL||"http://localhost:4000";function F(){let[e,l]=(0,m.useState)(""),[n,a]=(0,m.useState)([]),o=(0,y.useRouter)(),{data:u,status:d}=(0,b.useSession)();if("loading"===d)return(0,i.jsx)(k.Z,{color:"#ECC94B",speedMultiplier:1.25});if(!u){o.replace("/auth/sign-in");return}let c=async()=>{if(!e.trim())return;let i=await fetch("".concat(S,"/api/plan"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({messages:[...n,{Role:"user",Content:e.trim()}]})});if(a(l=>[...l,{Role:"user",Content:e.trim()}]),200!==i.status)return console.log("error",i.statusText);let r=await i.json();console.log("data",r),a(e=>[...e,{Role:"assistant",Content:r.message}]),l("")};return(0,i.jsx)(r.Z,{withSessionBar:!0,children:(0,i.jsxs)(t.k,{direction:"column",w:"full",align:"center",gap:"4",p:"4",maxW:"8xl",children:[n.map((e,l)=>(0,i.jsx)(s.x,{as:"pre",w:"full",children:e.Content},l)),(0,i.jsx)(g,{w:"full",placeholder:"Let's say your plan...",value:e,onChange:e=>l(e.target.value)}),(0,i.jsx)(C.z,{onClick:c,children:"Submit"})]})})}}},function(e){e.O(0,[352,774,888,179],function(){return e(e.s=7989)}),_N_E=e.O()}]);